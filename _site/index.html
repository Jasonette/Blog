<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      jasonette &middot; 
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Crimson+Text:400,400italic,700,700italic" rel='stylesheet' type='text/css' />
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="https://jekyll.gtat.me/assets/css/entypo.css" media="all">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="layout-reverse">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          <img class='logo' src='/assets/jasonette.png'>
          <br>
          jasonette
        </a>
      </h1>
      <p class="lead">⚡️ Native App over HTTP</p>
    </div>

    <nav class="sidebar-nav">
      <!--
      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
      
        
      
        
          
        
      
      -->
      <a class="sidebar-nav-item inline nopadding" href="https://jasonette.com">About</a>
      <a class="sidebar-nav-item inline nopadding" href="https://blog.jasonette.com">Blog</a>
      <a class="sidebar-nav-item inline nopadding" href="https://docs.jasonette.com">Docs</a>
      <div class='sidebar-nav-item bold'>Subscribe to Newsletter</div>
			<div class='sidebar-nav-item nopadding'>
				<form action="//textethan.us8.list-manage.com/subscribe/post?u=54e23b3fe61843c19c384fc05&amp;id=76d5746d7b" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate="novalidate">
					<p>Important updates, milestones, new projects, and useful tips from the community.</p>
					<input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" placeholder="enter email" aria-required="true">
					<button type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button">Subscribe</button>
					<div id="mce-responses" class="clear">
							<div class="response" id="mce-error-response" style="display:none"></div>
							<div class="response" id="mce-success-response" style="display:none"></div>
					</div>
					<div style="position: absolute; left: -5000px;" aria-hidden="true">
							<input type="text" name="b_54e23b3fe61843c19c384fc05_76d5746d7b" tabindex="-1" value="">
					</div>
				</form>
			</div>
      <div class='sidebar-nav-item bold'>Community</div>
      <a class="sidebar-nav-item inline" href="https://jasonette.now.sh/">Slack</a>
			<a class="sidebar-nav-item inline" href="https://forum.jasonette.com/">Forum</a>
			<a class="sidebar-nav-item inline" href="https://www.twitter.com/jasonclient">Twitter</a>
      <div class='sidebar-nav-item bold'>Github</div>
			<a class="sidebar-nav-item inline" href="https://github.com/Jasonette/JASONETTE-Android">Jasonette-Android</a>
			<a class="sidebar-nav-item inline" href="https://github.com/Jasonette/JASONETTE-iOS">Jasonette-iOS</a>
      <div class='sidebar-nav-item bold'>RSS</div>
			<a class="sidebar-nav-item icon" href='/atom.xml'><img src='/assets/feed.png'></a>
    </nav>
  </div>
</div>


    <div class="content container">
      <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2017/02/05/functional-programming-in-json/">
        Functional Programming in JSON.
      </a>
    </h1>

    <span class="post-date">05 Feb 2017</span>

    <p>You may know how to do functional programming in Javascript. Maybe LISP. Or maybe even Haskell!</p>

<p>But today, let me show you something you&#39;ve never seen: <strong>Functional programming in pure JSON</strong>.</p>

<p>Here&#39;s the structure of this article:</p>

<ol>
<li>Explain why it makes sense to use JSON, using the LISP analogy</li>
<li>Explain how to do procedural programming in JSON</li>
<li>Finally, explain how to do functional programming in JSON</li>
</ol>

<p>If this is your first time hearing about Jasonette, even the <strong>&quot;procedural programming in JSON&quot;</strong> part should be completely new to you.</p>

<p>So <a href="https://www.jasonette.com">check out Jasonette</a> first if you haven&#39;t yet.</p>

<h1>LISP.</h1>

<p>It&#39;s short for <strong>LIS</strong>t <strong>P</strong>rocesing. It&#39;s a programming language 100% based on lists. For example here is a list:</p>
<div class="highlight"><pre><code class="language-" data-lang="">(0 1 2 3)
</code></pre></div>
<p>But this is also a list:</p>
<div class="highlight"><pre><code class="language-" data-lang="">(+ 2 3)
</code></pre></div>
<p>So is this:</p>
<div class="highlight"><pre><code class="language-" data-lang="">(defun duplicate (N) (+ N N))
</code></pre></div>
<p>And finally, so is this:</p>
<div class="highlight"><pre><code class="language-" data-lang="">(defun factorial (N)
  "Compute the factorial of N."
    (if (= N 1)
          1
              (* N (factorial (- N 1)))))
</code></pre></div>
<p>LISP was created in the 1950s when the <strong>list</strong> was the most popular form of data structure. Everything is stored sequentially as a list on the memory.</p>

<p>Now, almost 60 years later, what is the most popular form of data structure?</p>

<h1>JSON.</h1>

<p>Back in the 1950s everything was stored locally, everything was a &quot;list&quot;, at least metaphorically. The memory was a &quot;list&quot; you can access. The list was the perfect format.</p>

<p>Fast forward to 2017, data and information mostly lives on the cloud, so it&#39;s no longer about how you store data locally. It&#39;s all about how to store and transmit data remotely. And in 2017, the most popular format to exchange data over the Internet is the JSON format.</p>

<p>Here&#39;s a JSON:</p>
<div class="highlight"><pre><code class="language-" data-lang=""><span class="p">{</span><span class="w">
  </span><span class="nt">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"a"</span><span class="p">,</span><span class="w"> </span><span class="s2">"b"</span><span class="p">,</span><span class="w"> </span><span class="s2">"c"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Remember how LISP used a list to express a program? For example adding two numbers:</p>
<div class="highlight"><pre><code class="language-" data-lang="">(+ 2 3)
</code></pre></div>
<p>What if you could do what LISP did, but for JSON? What if it&#39;s possible to build a completely functional, production app simply using JSON?</p>

<h1>Procedural Programming in JSON.</h1>

<p>OK, so that&#39;s basically what <a href="https://www.jasonette.com">Jasonette</a> does. There are many other things it does, such as describing a view layout using JSON, but here we will only focus on <strong>actions</strong>.</p>

<p>Each &quot;action&quot; consists of up to four attributes:</p>

<ol>
<li><code>type</code>: name of a native function to run</li>
<li><code>options</code>: arguments to pass to the function</li>
<li><code>success</code>: success callback to run when the function returns success</li>
<li><code>error</code>: error callback to run when the function returns error</li>
</ol>

<p>Using just these four attributes, you can build a fully functional, production app. Let&#39;s take a look how:</p>

<p><br></p>

<h2>arguments</h2>

<p>Functions are not so meaningful without arguments. We want a function to perform different actions based on the arguments we pass to it.</p>

<p>Here we pass <code>title</code> and <code>description</code> attributes to <code>$util.alert</code> action to create a custom alert.</p>
<div class="highlight"><pre><code class="language-" data-lang=""><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$util.alert"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alert"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello world"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>It displays an alert that looks like this:</p>

<p>If we were to express this in Javascript it would have looked something like this</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$util</span><span class="p">.</span><span class="nx">alert</span><span class="p">({</span><span class="na">title</span><span class="p">:</span> <span class="s2">"Alert"</span><span class="p">,</span> <span class="na">description</span><span class="p">:</span> <span class="s2">"Hello world"</span><span class="p">});</span>
</code></pre></div>
<ul>
<li>NOTE: Jasonette is not implemented with Javascript, I&#39;m just drawing an analogy here just to make a point</li>
</ul>

<h2>callbacks</h2>

<p>Here&#39;s another JSON:</p>
<div class="highlight"><pre><code class="language-" data-lang=""><span class="p">{</span><span class="w">
  </span><span class="nt">"fetch"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$network.request"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://jsonplaceholder.typicode.com/posts"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$render"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This chain of actions makes a network request to the jsonplaceholder server and renders the result using whichever template you define (also in JSON).</p>

<p>If we were to express this in Javascript it would look something like this</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="nx">fetch</span><span class="p">(){</span>
  <span class="nx">$network</span><span class="p">.</span><span class="nx">request</span><span class="p">({</span><span class="na">url</span><span class="p">:</span> <span class="s2">"https://jsonplaceholder.typicode.com/posts"</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">){</span>
    <span class="nx">$render</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>NOTE: Again, this is not how it&#39;s implemented, I&#39;m using this as an analogy to make a point</li>
</ul>

<h2>inline javascript</h2>

<p>We must go deeper. Let&#39;s try some crazy stuff using Jasonette&#39;s inline Javascript feature.</p>
<div class="highlight"><pre><code class="language-" data-lang=""><span class="p">{</span><span class="w">
  </span><span class="nt">"fetch"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$network.request"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://....."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{var str=$cache.guid; var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='; for ( var block, charCode, idx = 0, map = chars, output = ''; str.charAt(idx | 0) || (map = '=', idx % 1); output += map.charAt(63 &amp; block &gt;&gt; 8 - idx % 1 * 8)) { charCode = str.charCodeAt(idx += 3/4); if (charCode &gt; 0xFF) { throw new InvalidCharacterError('btoa failed'); } block = block &lt;&lt; 8 | charCode; } return output;}}"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$render"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Here&#39;s what&#39;s going on:</p>

<ol>
<li>We make a network request using the data specified inside <code>options.data</code>.</li>
<li>In this case the value of <code>guid</code> is a template expression, which means it will be evaluated when the action is executed.</li>
<li>The template expression takes <code>$cache.guid</code> (assuming that there&#39;s a <code>guid</code> value stored in the cache) and generates a hash.</li>
<li>Then it makes the network request, after which it calls <code>$render</code> via its <code>success</code> callback.</li>
</ol>

<h1>Problem with Procedural Programming.</h1>

<p>A lot of functional programming related arguments tend to be too theoretical so I will use this concrete example to explain why we need functional programming in this case.</p>

<ol>
<li>The <code>fetch</code> action produces different result depending on what value is stored on the cache at the point of execution (because it uses <code>$cache.guid</code>) therefore not reusable.</li>
<li>The <code>fetch</code> action does a lot of different things, from a network call to hash generation to rendering. This means this code is not reusable in other contexts.</li>
</ol>

<p>For example, we have this nifty <code>guid</code> function which generates a hash value, but it&#39;s not exactly reusable since it&#39;s built into this particular action call chain.</p>

<p>How can we extract this out as a standalone function somehow so we can reuse it without any side-effects?</p>

<h1>$lambda.</h1>

<p>This is where <code>$lambda</code> comes in.</p>

<p><code>$lambda</code> is the latest new addition to Jasonette. It&#39;s a special purpose action whose sole purpose is to trigger another action. Unlike other actions which actually do something on their own, $lambda only functions as a mediator that</p>

<ol>
<li>Executes another action</li>
<li>Waits for it to return</li>
<li>Continue executing with the return value</li>
</ol>

<p>Before we get into <code>$lambda</code>, let&#39;s take a look at how we can define a self-contained function.</p>

<h2>Defining a function</h2>

<p>Here&#39;s what it looks like when we extract the <code>btoa</code> action out into a standalone function. All it does is compute the hash and return.</p>
<div class="highlight"><pre><code class="language-" data-lang=""><span class="p">{</span><span class="w">
  </span><span class="nt">"btoa"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$return.success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"hashed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{var str=$jason.guid; var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='; for ( var block, charCode, idx = 0, map = chars, output = ''; str.charAt(idx | 0) || (map = '=', idx % 1); output += map.charAt(63 &amp; block &gt;&gt; 8 - idx % 1 * 8)) { charCode = str.charCodeAt(idx += 3/4); if (charCode &gt; 0xFF) { throw new InvalidCharacterError('btoa failed'); } block = block &lt;&lt; 8 | charCode; } return output;}}"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Notice that:</p>

<ol>
<li>the function uses <code>var str=$jason.guid;</code> instead of <code>var str=$cache.guid;</code>. <code>$jason</code> is a special variable reserved for accessing the parameters passed in from the triggering action.</li>
<li>the action type is <code>$return.success</code>. This is a special purpose action designed for returning the control back to the action that triggered the current action, which means this action can ONLY be used by being triggered by another action.</li>
</ol>

<p>For example, when you trigger a function called <code>fun</code> with the following JSON: </p>
<div class="highlight"><pre><code class="language-" data-lang=""><span class="p">{</span><span class="w">
  </span><span class="nt">"trigger"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fun"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>you can access the <code>{&quot;key&quot;: &quot;abc&quot;}</code> from inside the <code>fun</code> action using:</p>
<div class="highlight"><pre><code class="language-" data-lang=""><span class="p">{</span><span class="w">
  </span><span class="nt">"fun"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$util.banner"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Display key"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{$jason.key}}"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<h2>Calling the function</h2>

<p>Now that we have defined a function, let&#39;s call it using <code>$lambda</code>.</p>

<p>The <code>$lambda</code> action takes two arguments as its <code>options</code>:</p>

<ol>
<li><code>name</code>: The name of the function to trigger</li>
<li><code>options</code>: An options object to pass to the triggering action.</li>
</ol>
<div class="highlight"><pre><code class="language-" data-lang=""><span class="p">{</span><span class="w">
  </span><span class="nt">"fetch"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$lambda"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btoa"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{$cache.guid}}"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$network.request"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://....."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{$jason.hashed}}"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$render"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Notice that:</p>

<ol>
<li>We trigger the <code>btoa</code> function we created above and pass arguments using the <code>options</code> attribute. The <code>$cache.guid</code> stays outside of the btoa function this time.</li>
<li>We also have a <code>success</code> callback for <code>trigger: btoa</code>. Which means <code>fetch</code> will wait until <code>btoa</code> returns, and then use its return value to move forward when it returns. You can see how the <code>$network.request</code> call now uses the <code>$jason.hashed</code> value</li>
</ol>

<h2>Simplifying $lambda with &#39;trigger&#39;</h2>

<p>This <code>$lambda</code> action will be one of the most frequently used actions going forward. This is why there&#39;s a syntactic sugar for it.</p>

<p>Instead of using the <code>$lambda</code> action directly, you can use the <code>trigger</code> keyword. For example instead of this:</p>
<div class="highlight"><pre><code class="language-" data-lang=""><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$lambda"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some_action"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"key2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value2"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$render"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$util.toast"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Error"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>You can use: </p>
<div class="highlight"><pre><code class="language-" data-lang=""><span class="p">{</span><span class="w">
  </span><span class="nt">"trigger"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some_action"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"key1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"key2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value2"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$render"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$util.toast"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Error"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<h1>Conclusion</h1>

<p>There are so many cool things about this, but it may not be very clear what benefit this brings in the grand scheme of things. </p>

<p>Here&#39;s why I think this is really cool:</p>

<ol>
<li>Each function is a self-contained entity which when composed with other functions can do all kinds of powerful things.</li>
<li>With JASON (the JSON-based language that powers Jasonette), we can express any function in JSON.</li>
<li>JSON is the new &quot;List&quot;. JSON is ubiquitous.</li>
</ol>

<p>I will stop here and leave the rest to your imagination. But I am sure some of you are as excited as I am. Please join the community and contribute if so!</p>

<p><img src="/assets/network.png" alt="Network"></p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2017/01/17/build-a-slackbot-with-jasonette/">
        Remote-control your Slack bots with JSON
      </a>
    </h1>

    <span class="post-date">17 Jan 2017</span>

    <p>A couple of days ago, <a href="https://github.com/shaunymca">@shaunymca</a> shared a really cool project on <a href="https://jasonette.now.sh/">our slack channel</a>.</p>

<p><img src='/assets/coffeebot.png' class='bordered'></p>

<p>If you think about it, this is a pretty refreshing idea. Basically, it&#39;s <strong>a mobile app for remote-controlling a Slack bot.</strong> </p>

<p>To declare that you&#39;ve started brewing coffee, open the app, and simply touch the button from the cell with your name</p>

<p><img src='/assets/coffeebot_original.png' class='medium bordered'></p>

<p>And in 12 minutes, </p>

<p><img src='/assets/coffee_bot_slack.png' class='bordered'></p>

<p>And the cool part is, this was built with Jasonette, so <strong>he didn&#39;t need to write any native code.</strong></p>

<p>First, he wrote an express.js server which returns a JSON markup.</p>

<p>Then he connected it to <a href="https://www.jasonette.com">Jasonette</a>, which turned that JSON markup into a native app which drew the UI as well as sent requests to the server upon user input.</p>

<p>And voila! We have a remote control app for Slack bots.</p>

<p>Check out the repo here: <a href="https://github.com/shaunymca/coffeeapp">https://github.com/shaunymca/coffeeapp</a></p>

<p><br></p>

<h2>Demo</h2>

<p>I thought it was really cool so just decided to fork and try it out on our own slack channel. Here&#39;s how it works:</p>

<p>When the <a href="https://jasonette.com">Jasonette app</a> hits the home url, the server returns a JSON markup that looks like this:</p>

<p><img src="/assets/coffee_json.png" alt="Coffee json"></p>

<p>Then, Jasonette turns it into a native app that looks like this:</p>

<p><span class='col-6'>
    <span>iOS</span>
    <img src='/assets/coffee_app_ios.png' class='medium bordered'>
</span>
<span class='col-6'>
    <span>Android</span>
    <img src='/assets/coffee_app_android.png' class='medium bordered'>
</span></p>

<p>So how does it work behind the scenes? Each cell item is represented by a JSON object in the markup, which has an <code>action</code> attribute that looks like this:</p>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$network.request"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://evening-inlet-32428.herokuapp.com/submit.json"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"user_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{name}}"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{id}}"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>When you tap on a cell, it makes a <code>POST</code> request to the <a href="https://github.com/shaunymca/coffeeapp/blob/master/server.js#L61">submit.json</a> endpoint, which <a href="https://github.com/shaunymca/coffeeapp/blob/master/modules/slackPosting.js#L17">triggers the Slack API</a>.</p>

<p><strong>And in 12 minutes, your Slack channel will get a notification from the Coffee bot!.</strong></p>

<p><img src='/assets/coffee_bot_slack.png' class='bordered'></p>

<h2>TLDR</h2>

<ol>
<li>The express server returns a <a href="https://github.com/shaunymca/coffeeapp/blob/master/modules/jsonette.js#L61">JSON markup</a>, which becomes a native app when you connect it with Jasonette.</li>
<li>When you tap an item from the app, it triggers a <a href="http://docs.jasonette.com/actions/#networkrequest">POST request</a> to the server.</li>
<li>The server waits 12 minutes, and then triggers the Slack API with credentials to post to the Slack channel.</li>
</ol>

<p><br></p>

<h2>Conclusion</h2>

<p>This reminded me of the <a href="https://www.justyo.co/">Yo app</a>, since it&#39;s meant to only serve a single purpose.</p>

<p>It&#39;s like a bot version of Yo. But for multiplayer. And powered by Slack!</p>

<p>It&#39;s awesome to see these creative projects being built with Jasonette. Feel free to <a href="https://twitter.com/jasonclient">reach out</a> if you built something cool using Jasonette. I will try to showcase them on the blog.</p>

<p><strong>Lastly, make sure to try out <a href="https://github.com/shaunymca">@shaunymca</a>&#39;s coffeebot app for your own slack channel! It&#39;s so cool! <a href="https://github.com/shaunymca/coffeeapp">https://github.com/shaunymca/coffeeapp</a>.</strong></p>

<hr>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2017/01/12/Jasonette-2016-in-review/">
        How Jasonette Went from an Esoteric App to a Radical New Way to Build Native Apps
      </a>
    </h1>

    <span class="post-date">12 Jan 2017</span>

    <p>How are apps built?</p>

<p>You write a program and put it on the phone!</p>

<p>But what if you could represent an entire native app as JSON and <strong>load it on demand from the cloud over HTTP</strong>, just like a web page?</p>

<p><img src="http://jasonette.com/images/j.png" alt="image"></p>

<p><br></p>

<p>This little idea consumed the entirety of my life in 2016.</p>

<p>And the result is <a href="https://www.jasonette.com">Jasonette</a>.</p>

<p>Jasonette lets you <strong>build 100% native apps on Android and iOS simply by writing a single JSON markup.</strong> Watch the video below if you haven&#39;t yet. Your life will never be the same.</p>

<p><br></p>

<p><style>.embed-container { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; } .embed-container iframe, .embed-container object, .embed-container embed { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }</style><div class='embed-container'>    <iframe title="YouTube video player" width="640" height="390" src="//www.youtube.com/embed/hfevBAAfCMQ" frameborder="0" allowfullscreen></iframe></div></p>

<p><br></p>

<p>When I look back at 2016, it really feels like ages because so many things happened.</p>

<p>But it&#39;s crazy to think that it&#39;s only been 2 months since I open sourced Jasonette!</p>

<p>Let me share my 2016 with you today.</p>

<p><br></p>

<h2>Season 1 Pilot: Jason</h2>

<p>Exactly 8 months ago from today, <a href="https://www.producthunt.com/posts/jason">I released an app called Jason</a>. This was a standalone app that was a precursor to Jasonette. You would enter a JSON URL into Jason app&#39;s address bar, and it would instantly turn into your own custom app.</p>

<p><img class='center' src='https://s3-us-west-2.amazonaws.com/www.jasonclient.org/intro.gif'></p>

<p><br></p>

<p>A lot of minds were blown:</p>

<p><img src="https://pbs.twimg.com/media/CirgXxKXAAEoOXt.jpg:large" alt="twitter"></p>

<p>But at the same time, this was one of the most esoteric apps one could build—an app within an app, <a href="https://en.wikipedia.org/wiki/Matryoshka_doll">a russian doll</a> of sorts—as pointed out below:</p>

<p><img src="/assets/ph.png" alt="ph"></p>

<p><br></p>

<p>I didn&#39;t even have a specific set of target users in mind when I built this. I just built it because I could.™</p>

<p>But I looked at all these reactions and thought about it:</p>

<ol>
<li>Other people were amazed that an app can be built this way, and wanted to build their own apps this way too.</li>
<li>I wasn&#39;t interested in just another way of building apps. I was more interested in lowering the barrier so significantly that it changes the meaning of the term &quot;app&quot;.</li>
<li>Charging for usage would beat the purpose since that would fail at lowering the barrier.</li>
</ol>

<p>I knew exactly what I had to do: Jason needed to be open sourced and completely set free.</p>

<p>Well it shouldn&#39;t be that hard to open source. After all, I already have a functional code base, right?</p>

<p>Hahaha. </p>

<p>It took me 6 months.</p>

<p><br></p>

<h2>Intermission: Lessons learned from documentation</h2>

<p>Once I dived in, I soon realized open sourcing is not just about putting the code out there, but making sure people can understand it easily.</p>

<p>This was especially the case for Jasonette, because without a documented API, no one would be able to know what they can do with it. It would be like releasing a web browser without an HTML spec. Basically, the documentation itself was the product.</p>

<p>And turns out, documentation is not easy. </p>

<div class='jekyll-twitter-plugin'><blockquote class="twitter-tweet"><p lang="en" dir="ltr">Open source project is 1 percent inspiration, 99 percent documentation.</p>&mdash; ethan (@gliechtenstein) <a href="https://twitter.com/gliechtenstein/status/786284865733877764">October 12, 2016</a></blockquote>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script></div>

<p><br></p>

<p>For the next 6 months, I did nothing but documentation and code cleanup.</p>

<p>These were my darkest days. I did nothing but work on the documentation, I wasn&#39;t creating something new, I was simply documenting something that already existed and I hated it. But what other options did I have? So I kept at it.</p>

<p><strong>However, I soon realized that</strong> while frustrating, the process of documenting the project was extremely helpful:</p>

<ol>
<li>I got to understand my own code better.</li>
<li>I found a lot of inconsistencies in the API while documenting, which needed to be refactored.</li>
<li>I gained a birds-eye point of view of the project, which was crucial when I started working on the Android version later.</li>
</ol>

<p>But the thing is, the more I documented, the more I had to refactor, and the more I refactored, the more I had to document to reflect the update. By working more, I was creating even more work. At some point I started feeling like a <a href="https://en.wikipedia.org/wiki/Zeno&#x27;s_paradoxes#Achilles_and_the_tortoise">tortoise chasing after achilles</a>. Would I ever finish this?</p>

<p>In the meantime, I had set up a landing page and kept adding new materials as soon as they were ready, even though I hadn&#39;t launched it yet. And somehow people were discovering it and sharing it.</p>

<p>One day when I was begrudgingly working on documenting an <a href="https://github.com/Jasonette/s3-upload-example">express.js demo app</a> for Jasonette, I saw this tweet.</p>

<div class='jekyll-twitter-plugin'><blockquote class="twitter-tweet"><p lang="en" dir="ltr">kind of interesting, 100% declarative apps with JSON <a href="https://t.co/hzjyhZKsmU">https://t.co/hzjyhZKsmU</a>, probably hella leaky abstraction in some cases but neat</p>&mdash; TJ Holowaychuk (@tjholowaychuk) <a href="https://twitter.com/tjholowaychuk/status/779092360487546880">September 22, 2016</a></blockquote>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script></div>

<p>What a nice timing! I was very excited, and this encouraging tweet gave me all the strength I needed to finish up the docs and prepare for the launch... which wouldn&#39;t happen for another month and a half.</p>

<hr>

<h2>Season 1 Episode 01. Jasonette-iOS</h2>

<p>On the morning of 11/4 <a href="https://news.ycombinator.com/item?id=12879179">I posted on Hacker News</a>. It shot up to #1 and stayed #1 the entire day.</p>

<p>Then it went on to become the <strong>#1 Github trending project</strong>. Not too bad for my first ever open source contribution!</p>

<p><img src="/assets/github_trending.png" alt="github"></p>

<hr>

<h2>Season 1 Episode 02. Jasonette-Android</h2>

<p>Upon releasing the iOS version, the most frequently asked question was &quot;Android?&quot;. I wasn&#39;t surprised, since I knew that was the most obvious next step.</p>

<p>However what I didn&#39;t know was how long it would take me to come up with one.</p>

<p><strong>Or if it would be even possible at all.</strong></p>

<p>I only knew that Android had a layout system called <code>LinearLayout</code> which works similar to <code>UIStackView</code> which I used for the iOS version. So I just assumed that it would be possible, but it was really not straightforward.</p>

<p>This time, I decided not to torture myself with 6 months of agony. Instead of trying to make a perfect release, I decided to pick only the most crucial features and commit to releasing version 0 as soon as possible, and go from there.</p>

<p>I set the goal: <strong>Implement the core engine and get it out there, in 1 month.</strong></p>

<p>And surprisingly, I managed to succeed.</p>

<p>Watch the android version and the ios version side by side. These are loading from exactly the same JSON you can find <a href="https://github.com/Jasonette/Instagram-UI-example/blob/master/home.json">here</a></p>

<p><span class='col-6'><img src='https://cdn-images-1.medium.com/max/1200/1*yHXxTeQFdyWjxPSP2f7ZkA.gif'></span><span class='col-6'><img src='https://cdn-images-1.medium.com/max/1200/1*v9RxUZ-8XzLfDTfI3gmx6A.gif'></span></p>

<hr>

<h2>Season 1 Finale: Current state of Jasonette community</h2>

<p>What excites me the most is that the project has managed to find a great community of people who share the same vision and all contributing to the project in many different ways.</p>

<h3>Open source is magic</h3>

<p>I&#39;ve never worked on open source before so all these contributions from people I&#39;ve never met still feel surreal to me.</p>

<p>It&#39;s really amazing how people from all around the world can come together and collaborate to build something together this easily.</p>

<h3>New features and projects</h3>

<p>I went back and took a look at what our community has accomplished during the two months Jasonette has been out, and looks like we did a lot.</p>

<p>Here are some of the <strong>new major features and projects</strong> we&#39;ve added since the launch (Not including bugfixes or iOS-to-Android feature port because that would make the list huuuge):</p>

<ul>
<li><a href="https://github.com/Jasonette/JASONETTE-Android"> 🔥 Jasonette-Android</a> - The name says it all. The Android implementation of Jasonette, which makes Jasonette fully cross platform.</li>
<li><a href="https://github.com/Jasonette/JASONETTE-Android/issues/13">Android binary size reduction</a> - Initially the Android binary size was huge, at over 40MB. We&#39;ve made some optimizations which dropped it down to around 9MB, all the while supporting 100% of the parsers (json, csv, rss, xml, html), thanks for the contribution <a href="https://github.com/brad">@brad</a>!</li>
<li><a href="https://github.com/Jasonette/JASONETTE-iOS/issues/7">Push notifications</a> - Push notifications on iOS purely powered by JSON. We will soon release this officially once we document the API and implement the Android version.</li>
<li><a href="https://github.com/Jasonette/JASONETTE-iOS/pull/42">Local JSON</a> - This was one of the <a href="https://github.com/Jasonette/JASONETTE-iOS/issues/48">most higly requested</a> features. Some people wanted to embed a JSON file in their project locally instead of fetching from a remote server. I initially was hesitant but soon became convinced that it can be useful in many cases. Thanks to <a href="https://github.com/copongcopong">@copongcopong</a> for the implementation!</li>
<li><a href="https://github.com/Jasonette/JASONETTE-iOS/issues/34">CocoaPods based extension management</a> - We had a long discussion thread about this on Github, and in the end, <a href="https://github.com/seletz">@seletz</a> implemented a solution which worked beautifully. We are currently working on the second iteration of extension management based on the insights we gained from this.</li>
<li><a href="https://github.com/Jasonette/JASONETTE-iOS/pull/92">Ad integration</a> - This was also one of the <a href="https://github.com/Jasonette/JASONETTE-iOS/issues/79">most highly requested</a> features as well. Thanks to <a href="https://github.com/wajahatch888">@wajahatch888</a>, now we have AdMob support on iOS. <a href="https://github.com/Jasonette/JASONETTE-Android/issues/22">Android support</a> to come soon :)</li>
<li><a href="https://github.com/Jasonette/JASONETTE-iOS/commit/b359ab6d44f88d54ca9a5240f0e62e4ec0ca6852">Deep linking</a> - Ability to open Jasonette apps using URL scheme (Example: <code>jasonette://href?url=https://www.jasonbase.com/things/dh3.json</code>)</li>
<li><a href="https://github.com/Jasonette/JASONETTE-iOS/pull/20">Log action</a> - An action that lets you log anything during execution. Built by <a href="https://github.com/seletz">@seletz</a>.</li>
<li><a href="https://github.com/Jasonette/JASONETTE-iOS/pull/27">$background event</a> - An event to detect when the app goes into background mode. Thanks <a href="https://github.com/fretn">@fretz</a>!</li>
<li><a href="https://github.com/Jasonette/JASONETTE-iOS/pull/30">components border</a> - Add &quot;border&quot; attribute to component styles. Now, any component can have a border surrounding them, thanks to <a href="https://github.com/WenchaoD">@WenchaoD</a>!</li>
<li><a href="https://github.com/Jasonette/JASONETTE-iOS/pull/87">Loading indicator</a> - Another great feature addition by <a href="https://github.com/wajahatch888">@wajahatch888</a>. Displays a loading indicator when the content is loading.</li>
<li><a href="https://github.com/Jasonette/JASONETTE-Android/issues/30">HTML component for Android</a> - I had actually left out this feature on Android initially because I wasn&#39;t sure how performant it would be to have WebViews as components. <a href="https://github.com/brad">@brad</a> went on and just built it himself, and turns out that it works super smooth! Now works cross-platform both on iOS and Android.</li>
<li><a href="https://github.com/Jasonette/JASONETTE-iOS/pull/94">Image button</a> - Initially the buttons could only display text. Now it&#39;s possible to use image buttons. Both on iOS and Android.</li>
</ul>

<h3>Other Important Contributions</h3>

<p>New features are exciting, but I think what&#39;s really important are things that we do to make the project itself much more maintainable and comprehensible so it&#39;s easier to work with. This includes:</p>

<ol>
<li>Documentation</li>
<li>Adding automation to reduce repetitive tasks</li>
<li>Making it easier to work with Jasonette itself</li>
</ol>

<p>It&#39;s still very early days for Jasonette so we lack a lot of these things. And the community is coming up with various solutions. <strong>I especially welcome these contributions with open arms</strong>. Here are some of the highlights we&#39;ve achieved:</p>

<ul>
<li><a href="https://github.com/Jasonette/documentation/commit/eb5734484d07b49ec81a70c5eb8c017eaa342412">Auto-generate documentation using Travis CI</a> - As an open source newbie I had no idea you could just automatically generate a documentation, so have been manually doing it. Now it&#39;s all automated via <a href="https://travis-ci.org/">Travis CI</a>, thanks to <a href="https://github.com/gtramontina">@gtramontina</a>!</li>
<li><a href="https://github.com/Jasonette/JASONETTE-iOS/commit/0962d3bd2a7ccec7c091cb42a643055be7a03c6a">Integration with Code Climate</a> - I am learning about all kinds of great tools for maintaining and visualizing open source projects from contributions. <a href="https://codeclimate.com">Code Climate</a> is really nifty and lets you see problems with the code at a glance. Thanks to <a href="https://github.com/lukeramsden">@lukeramsden</a> for the integration!</li>
<li><a href="https://github.com/Jasonette/JASONETTE-iOS/commit/81cf25c9b26fad1e066027e28daa9f13cdaabe3a">Make it easy to use multiple targets in XCode</a> - I honestly had never thought about this idea. <a href="https://github.com/golopupinsky">@golopupinsky</a> found that it becomes tedious to use one Jasonette project to build multiple apps, and just came up with a solution, and I think it will be super useful for people who want to juggle between building multiple apps using a single Jasonette project file.</li>
</ul>

<hr>

<h2>What next in 2017? - Season 2 Preview</h2>

<p>2016 was just the beginning. Our community is working on a lot of exciting things, and we plan to release tons of mind-blowing things in 2017. Here are some examples:</p>

<h3>Oauth</h3>

<p>This will be amazing once we roll out officially. It will be one of the most powerful features of Jasonette. Stay tuned :)</p>

<h3>Package Manager</h3>

<p>Jasonette was <a href="http://docs.jasonette.com/advanced/#extension">designed to be extensible</a>. However, while writing an extension for personal usage has been easy, it has always been difficult to share and distribute because of all the dependency management we had to deal with.</p>

<p>After having tried multiple approaches to managing extensions, we&#39;ve finally found the best way to make writing extensions dead simple. We are still working on it and plan to release it soon.</p>

<p>Expect to see a lot of cool additional features powered by JSON in 2017. </p>

<h3>Lambda</h3>

<p>I&#39;ll leave this up to your imagination :)</p>

<p>All I have to say is that this will take jasonette to the next level.</p>

<h3>Much more</h3>

<p>Of course, there are a lot of other cool projects which are still work in progress but I won&#39;t mention them here just to keep the mystery 😁 </p>

<p>Follow our project to stay updated!</p>

<hr>

<h2>Join us.</h2>

<p>Sound exciting? join us on <a href="https://jasonette.now.sh/">slack</a>, <a href="https://forum.jasonette.com/">forum</a>, <a href="https://twitter.com/jasonclient">twitter</a>!</p>

<p>Also, follow and contribute to the project on Github: <a href="https://github.com/Jasonette/JASONETTE-Android">Jasonette-Android</a>, <a href="https://github.com/Jasonette/JASONETTE-iOS">Jasonette-iOS</a></p>

<p><strong>And most importantly, <a href="https://www.jasonette.com">Go build awesome things with it!</a></strong></p>

<p><img src="/assets/join.png" alt="Join us"></p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2016/01/17/build-a-slackbot-with-jasonette/">
        Remote-control your Slack bots with JSON
      </a>
    </h1>

    <span class="post-date">17 Jan 2016</span>

    <p><strong>Update:</strong> As a mistake I timestamped this as 2016, but this post was just freshly published on January 17th of 2017. Sorry for the confusion! :D </p>

<p>A couple of days ago, <a href="https://github.com/shaunymca">@shaunymca</a> shared a really cool project on <a href="https://jasonette.now.sh/">our slack channel</a>.</p>

<p><img src='/assets/coffeebot.png' class='bordered'></p>

<p>If you think about it, this is a pretty refreshing idea. Basically, it&#39;s <strong>a mobile app for remote-controlling a Slack bot.</strong> </p>

<p>To declare that you&#39;ve started brewing coffee, open the app, and simply touch the button from the cell with your name</p>

<p><img src='/assets/coffeebot_original.png' class='medium bordered'></p>

<p>And in 12 minutes, </p>

<p><img src='/assets/coffee_bot_slack.png' class='bordered'></p>

<p>And the cool part is, this was built with Jasonette, so <strong>he didn&#39;t need to write any native code.</strong></p>

<p>First, he wrote an express.js server which returns a JSON markup.</p>

<p>Then he connected it to <a href="https://www.jasonette.com">Jasonette</a>, which turned that JSON markup into a native app which drew the UI as well as sent requests to the server upon user input.</p>

<p>And voila! We have a remote control app for Slack bots.</p>

<p>Check out the repo here: <a href="https://github.com/shaunymca/coffeeapp">https://github.com/shaunymca/coffeeapp</a></p>

<p><br></p>

<h2>Demo</h2>

<p>I thought it was really cool so just decided to fork and try it out on our own slack channel. Here&#39;s how it works:</p>

<p>When the <a href="https://jasonette.com">Jasonette app</a> hits the home url, the server returns a JSON markup that looks like this:</p>

<p><img src="/assets/coffee_json.png" alt="Coffee json"></p>

<p>Then, Jasonette turns it into a native app that looks like this:</p>

<p><span class='col-6'>
    <span>iOS</span>
    <img src='/assets/coffee_app_ios.png' class='medium bordered'>
</span>
<span class='col-6'>
    <span>Android</span>
    <img src='/assets/coffee_app_android.png' class='medium bordered'>
</span></p>

<p>So how does it work behind the scenes? Each cell item is represented by a JSON object in the markup, which has an <code>action</code> attribute that looks like this:</p>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$network.request"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://evening-inlet-32428.herokuapp.com/submit.json"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"user_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{name}}"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{id}}"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>When you tap on a cell, it makes a <code>POST</code> request to the <a href="https://github.com/shaunymca/coffeeapp/blob/master/server.js#L61">submit.json</a> endpoint, which <a href="https://github.com/shaunymca/coffeeapp/blob/master/modules/slackPosting.js#L17">triggers the Slack API</a>.</p>

<p><strong>And in 12 minutes, your Slack channel will get a notification from the Coffee bot!.</strong></p>

<p><img src='/assets/coffee_bot_slack.png' class='bordered'></p>

<h2>TLDR</h2>

<ol>
<li>The express server returns a <a href="https://github.com/shaunymca/coffeeapp/blob/master/modules/jsonette.js#L61">JSON markup</a>, which becomes a native app when you connect it with Jasonette.</li>
<li>When you tap an item from the app, it triggers a <a href="http://docs.jasonette.com/actions/#networkrequest">POST request</a> to the server.</li>
<li>The server waits 12 minutes, and then triggers the Slack API with credentials to post to the Slack channel.</li>
</ol>

<p><br></p>

<h2>Conclusion</h2>

<p>This reminded me of the <a href="https://www.justyo.co/">Yo app</a>, since it&#39;s meant to only serve a single purpose.</p>

<p>It&#39;s like a bot version of Yo. But for multiplayer. And powered by Slack!</p>

<p>It&#39;s awesome to see these creative projects being built with Jasonette. Feel free to <a href="https://twitter.com/jasonclient">reach out</a> if you built something cool using Jasonette. I will try to showcase them on the blog.</p>

<p><strong>Lastly, make sure to try out <a href="https://github.com/shaunymca">@shaunymca</a>&#39;s coffeebot app for your own slack channel! It&#39;s so cool! <a href="https://github.com/shaunymca/coffeeapp">https://github.com/shaunymca/coffeeapp</a>.</strong></p>

<hr>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2016/01/12/Jasonette-2016-in-review/">
        How Jasonette Went from an Esoteric App to a Radical New Way to Build Native Apps
      </a>
    </h1>

    <span class="post-date">12 Jan 2016</span>

    <p>How are apps built?</p>

<p>You write a program and put it on the phone!</p>

<p>But what if you could represent an entire native app as JSON and <strong>load it on demand from the cloud over HTTP</strong>, just like a web page?</p>

<p><img src="http://jasonette.com/images/j.png" alt="image"></p>

<p><br></p>

<p>This little idea consumed the entirety of my life in 2016.</p>

<p>And the result is <a href="https://www.jasonette.com">Jasonette</a>.</p>

<p>Jasonette lets you <strong>build 100% native apps on Android and iOS simply by writing a single JSON markup.</strong> Watch the video below if you haven&#39;t yet. Your life will never be the same.</p>

<p><br></p>

<p><style>.embed-container { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; } .embed-container iframe, .embed-container object, .embed-container embed { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }</style><div class='embed-container'>    <iframe title="YouTube video player" width="640" height="390" src="//www.youtube.com/embed/hfevBAAfCMQ" frameborder="0" allowfullscreen></iframe></div></p>

<p><br></p>

<p>When I look back at 2016, it really feels like ages because so many things happened.</p>

<p>But it&#39;s crazy to think that it&#39;s only been 2 months since I open sourced Jasonette!</p>

<p>Let me share my 2016 with you today.</p>

<p><br></p>

<h2>Season 1 Pilot: Jason</h2>

<p>Exactly 8 months ago from today, <a href="https://www.producthunt.com/posts/jason">I released an app called Jason</a>. This was a standalone app that was a precursor to Jasonette. You would enter a JSON URL into Jason app&#39;s address bar, and it would instantly turn into your own custom app.</p>

<p><img class='center' src='https://s3-us-west-2.amazonaws.com/www.jasonclient.org/intro.gif'></p>

<p><br></p>

<p>A lot of minds were blown:</p>

<p><img src="https://pbs.twimg.com/media/CirgXxKXAAEoOXt.jpg:large" alt="twitter"></p>

<p>But at the same time, this was one of the most esoteric apps one could build—an app within an app, <a href="https://en.wikipedia.org/wiki/Matryoshka_doll">a russian doll</a> of sorts—as pointed out below:</p>

<p><img src="/assets/ph.png" alt="ph"></p>

<p><br></p>

<p>I didn&#39;t even have a specific set of target users in mind when I built this. I just built it because I could.™</p>

<p>But I looked at all these reactions and thought about it:</p>

<ol>
<li>Other people were amazed that an app can be built this way, and wanted to build their own apps this way too.</li>
<li>I wasn&#39;t interested in just another way of building apps. I was more interested in lowering the barrier so significantly that it changes the meaning of the term &quot;app&quot;.</li>
<li>Charging for usage would beat the purpose since that would fail at lowering the barrier.</li>
</ol>

<p>I knew exactly what I had to do: Jason needed to be open sourced and completely set free.</p>

<p>Well it shouldn&#39;t be that hard to open source. After all, I already have a functional code base, right?</p>

<p>Hahaha. </p>

<p>It took me 6 months.</p>

<p><br></p>

<h2>Intermission: Lessons learned from documentation</h2>

<p>Once I dived in, I soon realized open sourcing is not just about putting the code out there, but making sure people can understand it easily.</p>

<p>This was especially the case for Jasonette, because without a documented API, no one would be able to know what they can do with it. It would be like releasing a web browser without an HTML spec. Basically, the documentation itself was the product.</p>

<p>And turns out, documentation is not easy. </p>

<div class='jekyll-twitter-plugin'><blockquote class="twitter-tweet"><p lang="en" dir="ltr">Open source project is 1 percent inspiration, 99 percent documentation.</p>&mdash; ethan (@gliechtenstein) <a href="https://twitter.com/gliechtenstein/status/786284865733877764">October 12, 2016</a></blockquote>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script></div>

<p><br></p>

<p>For the next 6 months, I did nothing but documentation and code cleanup.</p>

<p>These were my darkest days. I did nothing but work on the documentation, I wasn&#39;t creating something new, I was simply documenting something that already existed and I hated it. But what other options did I have? So I kept at it.</p>

<p><strong>However, I soon realized that</strong> while frustrating, the process of documenting the project was extremely helpful:</p>

<ol>
<li>I got to understand my own code better.</li>
<li>I found a lot of inconsistencies in the API while documenting, which needed to be refactored.</li>
<li>I gained a birds-eye point of view of the project, which was crucial when I started working on the Android version later.</li>
</ol>

<p>But the thing is, the more I documented, the more I had to refactor, and the more I refactored, the more I had to document to reflect the update. By working more, I was creating even more work. At some point I started feeling like a <a href="https://en.wikipedia.org/wiki/Zeno&#x27;s_paradoxes#Achilles_and_the_tortoise">tortoise chasing after achilles</a>. Would I ever finish this?</p>

<p>In the meantime, I had set up a landing page and kept adding new materials as soon as they were ready, even though I hadn&#39;t launched it yet. And somehow people were discovering it and sharing it.</p>

<p>One day when I was begrudgingly working on documenting an <a href="https://github.com/Jasonette/s3-upload-example">express.js demo app</a> for Jasonette, I saw this tweet.</p>

<div class='jekyll-twitter-plugin'><blockquote class="twitter-tweet"><p lang="en" dir="ltr">kind of interesting, 100% declarative apps with JSON <a href="https://t.co/hzjyhZKsmU">https://t.co/hzjyhZKsmU</a>, probably hella leaky abstraction in some cases but neat</p>&mdash; TJ Holowaychuk (@tjholowaychuk) <a href="https://twitter.com/tjholowaychuk/status/779092360487546880">September 22, 2016</a></blockquote>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script></div>

<p>What a nice timing! I was very excited, and this encouraging tweet gave me all the strength I needed to finish up the docs and prepare for the launch... which wouldn&#39;t happen for another month and a half.</p>

<hr>

<h2>Season 1 Episode 01. Jasonette-iOS</h2>

<p>On the morning of 11/4 <a href="https://news.ycombinator.com/item?id=12879179">I posted on Hacker News</a>. It shot up to #1 and stayed #1 the entire day.</p>

<p>Then it went on to become the <strong>#1 Github trending project</strong>. Not too bad for my first ever open source contribution!</p>

<p><img src="/assets/github_trending.png" alt="github"></p>

<hr>

<h2>Season 1 Episode 02. Jasonette-Android</h2>

<p>Upon releasing the iOS version, the most frequently asked question was &quot;Android?&quot;. I wasn&#39;t surprised, since I knew that was the most obvious next step.</p>

<p>However what I didn&#39;t know was how long it would take me to come up with one.</p>

<p><strong>Or if it would be even possible at all.</strong></p>

<p>I only knew that Android had a layout system called <code>LinearLayout</code> which works similar to <code>UIStackView</code> which I used for the iOS version. So I just assumed that it would be possible, but it was really not straightforward.</p>

<p>This time, I decided not to torture myself with 6 months of agony. Instead of trying to make a perfect release, I decided to pick only the most crucial features and commit to releasing version 0 as soon as possible, and go from there.</p>

<p>I set the goal: <strong>Implement the core engine and get it out there, in 1 month.</strong></p>

<p>And surprisingly, I managed to succeed.</p>

<p>Watch the android version and the ios version side by side. These are loading from exactly the same JSON you can find <a href="https://github.com/Jasonette/Instagram-UI-example/blob/master/home.json">here</a></p>

<p><span class='col-6'><img src='https://cdn-images-1.medium.com/max/1200/1*yHXxTeQFdyWjxPSP2f7ZkA.gif'></span><span class='col-6'><img src='https://cdn-images-1.medium.com/max/1200/1*v9RxUZ-8XzLfDTfI3gmx6A.gif'></span></p>

<hr>

<h2>Season 1 Finale: Current state of Jasonette community</h2>

<p>What excites me the most is that the project has managed to find a great community of people who share the same vision and all contributing to the project in many different ways.</p>

<h3>Open source is magic</h3>

<p>I&#39;ve never worked on open source before so all these contributions from people I&#39;ve never met still feel surreal to me.</p>

<p>It&#39;s really amazing how people from all around the world can come together and collaborate to build something together this easily.</p>

<h3>New features and projects</h3>

<p>I went back and took a look at what our community has accomplished during the two months Jasonette has been out, and looks like we did a lot.</p>

<p>Here are some of the <strong>new major features and projects</strong> we&#39;ve added since the launch (Not including bugfixes or iOS-to-Android feature port because that would make the list huuuge):</p>

<ul>
<li><a href="https://github.com/Jasonette/JASONETTE-Android"> 🔥 Jasonette-Android</a> - The name says it all. The Android implementation of Jasonette, which makes Jasonette fully cross platform.</li>
<li><a href="https://github.com/Jasonette/JASONETTE-Android/issues/13">Android binary size reduction</a> - Initially the Android binary size was huge, at over 40MB. We&#39;ve made some optimizations which dropped it down to around 9MB, all the while supporting 100% of the parsers (json, csv, rss, xml, html), thanks for the contribution <a href="https://github.com/brad">@brad</a>!</li>
<li><a href="https://github.com/Jasonette/JASONETTE-iOS/issues/7">Push notifications</a> - Push notifications on iOS purely powered by JSON. We will soon release this officially once we document the API and implement the Android version.</li>
<li><a href="https://github.com/Jasonette/JASONETTE-iOS/pull/42">Local JSON</a> - This was one of the <a href="https://github.com/Jasonette/JASONETTE-iOS/issues/48">most higly requested</a> features. Some people wanted to embed a JSON file in their project locally instead of fetching from a remote server. I initially was hesitant but soon became convinced that it can be useful in many cases. Thanks to <a href="https://github.com/copongcopong">@copongcopong</a> for the implementation!</li>
<li><a href="https://github.com/Jasonette/JASONETTE-iOS/issues/34">CocoaPods based extension management</a> - We had a long discussion thread about this on Github, and in the end, <a href="https://github.com/seletz">@seletz</a> implemented a solution which worked beautifully. We are currently working on the second iteration of extension management based on the insights we gained from this.</li>
<li><a href="https://github.com/Jasonette/JASONETTE-iOS/pull/92">Ad integration</a> - This was also one of the <a href="https://github.com/Jasonette/JASONETTE-iOS/issues/79">most highly requested</a> features as well. Thanks to <a href="https://github.com/wajahatch888">@wajahatch888</a>, now we have AdMob support on iOS. <a href="https://github.com/Jasonette/JASONETTE-Android/issues/22">Android support</a> to come soon :)</li>
<li><a href="https://github.com/Jasonette/JASONETTE-iOS/commit/b359ab6d44f88d54ca9a5240f0e62e4ec0ca6852">Deep linking</a> - Ability to open Jasonette apps using URL scheme (Example: <code>jasonette://href?url=https://www.jasonbase.com/things/dh3.json</code>)</li>
<li><a href="https://github.com/Jasonette/JASONETTE-iOS/pull/20">Log action</a> - An action that lets you log anything during execution. Built by <a href="https://github.com/seletz">@seletz</a>.</li>
<li><a href="https://github.com/Jasonette/JASONETTE-iOS/pull/27">$background event</a> - An event to detect when the app goes into background mode. Thanks <a href="https://github.com/fretn">@fretz</a>!</li>
<li><a href="https://github.com/Jasonette/JASONETTE-iOS/pull/30">components border</a> - Add &quot;border&quot; attribute to component styles. Now, any component can have a border surrounding them, thanks to <a href="https://github.com/WenchaoD">@WenchaoD</a>!</li>
<li><a href="https://github.com/Jasonette/JASONETTE-iOS/pull/87">Loading indicator</a> - Another great feature addition by <a href="https://github.com/wajahatch888">@wajahatch888</a>. Displays a loading indicator when the content is loading.</li>
<li><a href="https://github.com/Jasonette/JASONETTE-Android/issues/30">HTML component for Android</a> - I had actually left out this feature on Android initially because I wasn&#39;t sure how performant it would be to have WebViews as components. <a href="https://github.com/brad">@brad</a> went on and just built it himself, and turns out that it works super smooth! Now works cross-platform both on iOS and Android.</li>
<li><a href="https://github.com/Jasonette/JASONETTE-iOS/pull/94">Image button</a> - Initially the buttons could only display text. Now it&#39;s possible to use image buttons. Both on iOS and Android.</li>
</ul>

<h3>Other Important Contributions</h3>

<p>New features are exciting, but I think what&#39;s really important are things that we do to make the project itself much more maintainable and comprehensible so it&#39;s easier to work with. This includes:</p>

<ol>
<li>Documentation</li>
<li>Adding automation to reduce repetitive tasks</li>
<li>Making it easier to work with Jasonette itself</li>
</ol>

<p>It&#39;s still very early days for Jasonette so we lack a lot of these things. And the community is coming up with various solutions. <strong>I especially welcome these contributions with open arms</strong>. Here are some of the highlights we&#39;ve achieved:</p>

<ul>
<li><a href="https://github.com/Jasonette/documentation/commit/eb5734484d07b49ec81a70c5eb8c017eaa342412">Auto-generate documentation using Travis CI</a> - As an open source newbie I had no idea you could just automatically generate a documentation, so have been manually doing it. Now it&#39;s all automated via <a href="https://travis-ci.org/">Travis CI</a>, thanks to <a href="https://github.com/gtramontina">@gtramontina</a>!</li>
<li><a href="https://github.com/Jasonette/JASONETTE-iOS/commit/0962d3bd2a7ccec7c091cb42a643055be7a03c6a">Integration with Code Climate</a> - I am learning about all kinds of great tools for maintaining and visualizing open source projects from contributions. <a href="https://codeclimate.com">Code Climate</a> is really nifty and lets you see problems with the code at a glance. Thanks to <a href="https://github.com/lukeramsden">@lukeramsden</a> for the integration!</li>
<li><a href="https://github.com/Jasonette/JASONETTE-iOS/commit/81cf25c9b26fad1e066027e28daa9f13cdaabe3a">Make it easy to use multiple targets in XCode</a> - I honestly had never thought about this idea. <a href="https://github.com/golopupinsky">@golopupinsky</a> found that it becomes tedious to use one Jasonette project to build multiple apps, and just came up with a solution, and I think it will be super useful for people who want to juggle between building multiple apps using a single Jasonette project file.</li>
</ul>

<hr>

<h2>What next in 2017? - Season 2 Preview</h2>

<p>2016 was just the beginning. Our community is working on a lot of exciting things, and we plan to release tons of mind-blowing things in 2017. Here are some examples:</p>

<h3>Oauth</h3>

<p>This will be amazing once we roll out officially. It will be one of the most powerful features of Jasonette. Stay tuned :)</p>

<h3>Package Manager</h3>

<p>Jasonette was <a href="http://docs.jasonette.com/advanced/#extension">designed to be extensible</a>. However, while writing an extension for personal usage has been easy, it has always been difficult to share and distribute because of all the dependency management we had to deal with.</p>

<p>After having tried multiple approaches to managing extensions, we&#39;ve finally found the best way to make writing extensions dead simple. We are still working on it and plan to release it soon.</p>

<p>Expect to see a lot of cool additional features powered by JSON in 2017. </p>

<h3>Lambda</h3>

<p>I&#39;ll leave this up to your imagination :)</p>

<p>All I have to say is that this will take jasonette to the next level.</p>

<h3>Much more</h3>

<p>Of course, there are a lot of other cool projects which are still work in progress but I won&#39;t mention them here just to keep the mystery 😁 </p>

<p>Follow our project to stay updated!</p>

<hr>

<h2>Join us.</h2>

<p>Sound exciting? join us on <a href="https://jasonette.now.sh/">slack</a>, <a href="https://forum.jasonette.com/">forum</a>, <a href="https://twitter.com/jasonclient">twitter</a>!</p>

<p>Also, follow and contribute to the project on Github: <a href="https://github.com/Jasonette/JASONETTE-Android">Jasonette-Android</a>, <a href="https://github.com/Jasonette/JASONETTE-iOS">Jasonette-iOS</a></p>

<p><strong>And most importantly, <a href="https://www.jasonette.com">Go build awesome things with it!</a></strong></p>

<p><img src="/assets/join.png" alt="Join us"></p>

  </div>
  
</div>

<div class="pagination">
  
    <span class="pagination-item older">Older</span>
  
  
    <span class="pagination-item newer">Newer</span>
  
</div>

    </div>

  </body>
</html>
